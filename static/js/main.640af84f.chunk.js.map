{"version":3,"sources":["services/db.js","services/game.js","services/user.js","components/Dashboard.js","services/utils.js","components/Game.js","components/GameLobby.js","components/UserNew.js","components/GameNew.js","components/Home.js","components/Navbar.js","components/App.js","serviceWorker.js","index.js"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getGameDocument","gameId","db","collection","doc","addPlayerToGame","userId","values","weapon","DocumentReference","add","catch","err","console","log","addWeaponToGame","gameDocument","a","where","get","then","snapshot","docs","ref","update","getWeaponForPlayer","empty","data","getWinner","players","winner","tie","length","some","aPlayer","bPlayer","Object","assign","deleteWeapons","forEach","document","getGamesForUser","collectionGroup","map","parent","getLocalUser","localUser","JSON","parse","localStorage","getItem","error","removeItem","setLocalUser","user","setItem","stringify","addUser","id","getUser","Dashboard","useState","gamesWaitingForOpponent","setGamesWaitingForOpponent","gamesWaitingForOpponentMove","setGamesWaitingForOpponentMove","gamesWaitingForYourMove","setGamesWaitingForYourMove","wins","ties","losses","stats","setStats","useEffect","documents","promises","Promise","all","handleGameUpdates","snapshots","newGamesWaitingForOpponent","newGamesWaitingForOpponentMove","newGamesWaitingForYourMove","newStats","size","hasOwnProperty","find","player","className","keys","documentId","to","key","areObjectsSame","objectA","objectB","i","areArraysSame","arrayA","arrayB","Array","arrayASorted","slice","sort","arrayBSorted","itemA","itemB","Game","setWeapon","setWinner","gameWinner","getPlayerNamesCopy","name","join","getWeaponIcon","onClickWeaponHandler","e","currentTarget","dataset","setTimeout","type","style","flexGrow","data-name","onClick","GameLobby","useParams","setPlayers","redirectTo","setRedirectTo","onSnapshot","gamePlayers","UserNew","setUser","email","onSubmit","preventDefault","target","elements","value","trim","toLowerCase","placeholder","GameNew","setGameId","Math","round","random","Home","Navbar","dashboardMatch","useRouteMatch","path","strict","homeMatch","App","exact","from","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.640af84f.chunk.js","sourcesContent":["import * as firebase from 'firebase/app';\n\nimport 'firebase/firestore';\n\nfirebase.initializeApp({\n\tapiKey: 'AIzaSyCpU5AfFhgbrjaTR8sKyB_O6h9VYGCNmDk',\n\tauthDomain: 'rock-paper-scissors-b198e.firebaseapp.com',\n\tdatabaseURL: 'https://rock-paper-scissors-b198e.firebaseio.com',\n\tprojectId: 'rock-paper-scissors-b198e',\n\tstorageBucket: 'rock-paper-scissors-b198e.appspot.com',\n\tmessagingSenderId: '530589049037',\n\tappId: '1:530589049037:web:f677fbd6b66d8483654984'\n});\n\nexport default firebase.firestore();\n","import * as firebase from 'firebase/app';\nimport db from './db';\n\n/**\n * Gets a document reference\n *\n * @param   {string}                                gameId\n * @returns {firebase.firestore.DocumentReference}\n */\nexport const getGameDocument = gameId => db.collection('games').doc(gameId);\n\n/**\n * Inserts a player with no weapon to the given game\n *\n * @param   {string|firebase.firestore.DocumentReference}   gameId\n * @param   {string}                                        userId\n */\nexport const addPlayerToGame = (gameId, userId) => {\n\tconst gameDocument = gameId instanceof firebase.firestore.DocumentReference\n\t\t? gameId\n\t\t: getGameDocument(gameId);\n\n\tconst values = {\n\t\tuserId,\n\t\tweapon: null\n\t};\n\n\tgameDocument.collection('players').add(values)\n\t\t.catch(err => console.log(`Error encountered: ${err}`));\n};\n\n/**\n * Updates a player's weapon\n *\n * @param   {firebase.firestore.DocumentReference}  gameDocument\n * @param   {string}                                userId\n * @param   {string}                                weapon\n * @returns {Promise<firebase.firestore.QuerySnapshot>}\n */\nexport const addWeaponToGame = async (gameDocument, userId, weapon) => {\n\tconst values = { weapon };\n\n\treturn gameDocument.collection('players')\n\t\t.where('userId', '==', userId)\n\t\t.get()\n\t\t.then(snapshot => snapshot.docs[0].ref.update(values));\n};\n\n/**\n * Gets the weapon for the given player\n *\n * @param   {firebase.firestore.DocumentReference}  gameDocument\n * @param   {string}                                userId\n * @returns {Promise<firebase.firestore.QuerySnapshot>}\n */\nexport const getWeaponForPlayer = async (gameDocument, userId) => gameDocument.collection('players')\n\t.where('userId', '==', userId)\n\t.get()\n\t.then(snapshot => snapshot.empty\n\t\t? addPlayerToGame(gameDocument, userId).then(() => null)\n\t\t: snapshot.docs[0].data().weapon);\n\n/**\n * Determines the winner from the document snapshot data\n *\n * @param   {{userId: string, weapon: *}[]}   players\n * @returns {{tie: boolean, userId: *, weapon: *}}\n */\nexport const getWinner = players => {\n\tconst winner = {\n\t\ttie: false,\n\t\tuserId: null,\n\t\tweapon: null\n\t};\n\n\tif (\n\t\tplayers.length < 2\n\t\t|| players.some(({ weapon }) => weapon === null)\n\t) {\n\t\treturn winner;\n\t}\n\n\tconst [aPlayer, bPlayer] = players;\n\n\tif (\n\t\t(aPlayer.weapon === 'Rock' && bPlayer.weapon === 'Scissors')\n\t\t|| (aPlayer.weapon === 'Paper' && bPlayer.weapon === 'Rock')\n\t\t|| (aPlayer.weapon === 'Scissors' && bPlayer.weapon === 'Paper')\n\t) {\n\t\tObject.assign(winner, aPlayer);\n\t} else if (aPlayer.weapon === bPlayer.weapon) {\n\t\twinner.tie = true;\n\t\twinner.weapon = aPlayer.weapon;\n\t} else {\n\t\tObject.assign(winner, bPlayer);\n\t}\n\n\treturn winner;\n};\n\n/**\n * Resets the player's weapons for the given game\n *\n * @param {firebase.firestore.DocumentReference}    gameDocument\n */\nexport const deleteWeapons = gameDocument => gameDocument.collection('players')\n\t.get()\n\t.then(snapshot => {\n\t\tsnapshot.docs.forEach(document => document.ref.update({ weapon: null }));\n\t});\n\n/**\n * Gets all the games where the given user is a player of\n *\n * @param userId\n * @returns {Promise<firebase.firestore.DocumentReference[]>}\n */\nexport const getGamesForUser = userId => db.collectionGroup('players')\n\t.where('userId', '==', userId)\n\t.get()\n\t.then(snapshot => snapshot.docs.map(document => document.ref.parent.parent));\n","import db from './db';\n\n/**\n * Gets the local user from the browser's local storage\n *\n * @returns {{}|{email: string, id: string, name: string}}\n */\nexport const getLocalUser = () => {\n\tlet localUser = {};\n\n\ttry {\n\t\tlocalUser = JSON.parse(localStorage.getItem('player')) || {};\n\t} catch (error) {\n\t\tconsole.log('Deleting corrupted player in local storage.');\n\t\tlocalStorage.removeItem('player');\n\t}\n\n\treturn localUser;\n};\n\n/**\n * Sets the given user on the browser's local storage\n *\n * @param   {object}    user\n */\nexport const setLocalUser = user => localStorage.setItem('player', JSON.stringify(user));\n\n/**\n * Inserts a user to the users collection\n *\n * @param   {object}                                        user\n * @returns {Promise<firebase.firestore.DocumentReference>}\n */\nexport const addUser = async user => db.collection('users')\n\t.add(user)\n\t.then(document => {\n\t\tuser.id = document.id;\n\t\treturn user;\n\t});\n\n/**\n * Gets the data for the given user\n *\n * @param   {string}                                    userId\n * @returns {Promise<firebase.firestore.DocumentData>}\n */\nexport const getUser = async userId => db.collection('users')\n\t.doc(userId)\n\t.get()\n\t.then(snapshot => snapshot.data());\n","import React, {\n\tuseEffect,\n\tuseState\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n\tgetGamesForUser,\n\tgetWinner\n} from '../services/game';\nimport { getLocalUser } from '../services/user';\n\nfunction Dashboard() {\n\tconst { id: userId } = getLocalUser();\n\n\tconst [\n\t\tgamesWaitingForOpponent,\n\t\tsetGamesWaitingForOpponent\n\t] = useState({});\n\n\tconst [\n\t\tgamesWaitingForOpponentMove,\n\t\tsetGamesWaitingForOpponentMove\n\t] = useState({});\n\n\tconst [\n\t\tgamesWaitingForYourMove,\n\t\tsetGamesWaitingForYourMove\n\t] = useState({});\n\n\tconst [\n\t\tstats,\n\t\tsetStats\n\t] = useState({ wins: 0, ties: 0, losses: 0 });\n\n\tuseEffect(() => {\n\t\tgetGamesForUser(userId)\n\t\t\t.then(documents => {\n\t\t\t\tconst promises = documents.map(document => document.collection('players').get());\n\n\t\t\t\tPromise.all(promises)\n\t\t\t\t\t.then(handleGameUpdates);\n\t\t\t});\n\t}, [userId]);\n\n\tconst handleGameUpdates = snapshots => {\n\t\tconst newGamesWaitingForOpponent = Object.assign({}, gamesWaitingForOpponent);\n\t\tconst newGamesWaitingForOpponentMove = Object.assign({}, gamesWaitingForOpponentMove);\n\t\tconst newGamesWaitingForYourMove = Object.assign({}, gamesWaitingForYourMove);\n\t\tconst newStats = Object.assign({}, stats);\n\n\t\tsnapshots.forEach(snapshot => {\n\t\t\tconst gameDocument = snapshot.docs[0].ref.parent.parent;\n\n\t\t\tif (snapshot.size < 2) {\n\t\t\t\tnewGamesWaitingForOpponent[gameDocument.id] = gameDocument;\n\t\t\t} else {\n\t\t\t\tif (newGamesWaitingForOpponent.hasOwnProperty(gameDocument.id)) {\n\t\t\t\t\tdelete newGamesWaitingForOpponent[gameDocument.id];\n\t\t\t\t}\n\n\t\t\t\tconst players = snapshot.docs.map(document => document.data());\n\t\t\t\tconst winner = getWinner(players);\n\n\t\t\t\tif (\n\t\t\t\t\twinner.userId === null\n\t\t\t\t\t&& winner.tie === false\n\t\t\t\t) {\n\t\t\t\t\tconst { weapon } = players.find(player => player.userId === userId);\n\t\t\t\t\tweapon\n\t\t\t\t\t\t? newGamesWaitingForOpponentMove[gameDocument.id] = gameDocument\n\t\t\t\t\t\t: newGamesWaitingForYourMove[gameDocument.id] = gameDocument;\n\t\t\t\t} else {\n\t\t\t\t\tif (newGamesWaitingForOpponentMove.hasOwnProperty(gameDocument.id)) {\n\t\t\t\t\t\tdelete newGamesWaitingForOpponentMove[gameDocument.id];\n\t\t\t\t\t} else if (newGamesWaitingForYourMove.hasOwnProperty(gameDocument.id)) {\n\t\t\t\t\t\tdelete newGamesWaitingForYourMove[gameDocument.id];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (winner.userId === userId) {\n\t\t\t\t\t\tnewStats.wins++;\n\t\t\t\t\t} else if (winner.tie) {\n\t\t\t\t\t\tnewStats.ties++;\n\t\t\t\t\t} else if (winner.userId !== null) {\n\t\t\t\t\t\tnewStats.losses++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetGamesWaitingForOpponent(newGamesWaitingForOpponent);\n\t\tsetGamesWaitingForOpponentMove(newGamesWaitingForOpponentMove);\n\t\tsetGamesWaitingForYourMove(newGamesWaitingForYourMove);\n\t\tsetStats(newStats);\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8 offset-sm-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<div className=\"card-header\">Dashboard</div>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<h5 className=\"card-title\">Your Stats</h5>\n\t\t\t\t\t\t<p className=\"card-text\"><span className=\"strong\">Wins:</span> {stats.wins}</p>\n\t\t\t\t\t\t<p className=\"card-text\"><span className=\"strong\">Ties:</span> {stats.ties}</p>\n\t\t\t\t\t\t<p className=\"card-text\"><span className=\"strong\">Losses:</span> {stats.losses}</p>\n\n\t\t\t\t\t\t<hr/>\n\n\t\t\t\t\t\t<h5 className=\"card-title\">Waiting for an opponent...</h5>\n\t\t\t\t\t\t<div className=\"btn-group-vertical d-block\">\n\t\t\t\t\t\t\t{ Object.keys(gamesWaitingForOpponent).map(documentId => (\n\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={ `/game/${documentId}` } key={ documentId }>{ documentId }</Link>\n\t\t\t\t\t\t\t)) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr/>\n\n\t\t\t\t\t\t<h5 className=\"card-title\">Waiting for opponent's move...</h5>\n\t\t\t\t\t\t<div className=\"btn-group-vertical d-block\">\n\t\t\t\t\t\t\t{ Object.keys(gamesWaitingForOpponentMove).map(documentId => (\n\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={ `/game/${documentId}` } key={ documentId }>{ documentId }</Link>\n\t\t\t\t\t\t\t)) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr/>\n\n\t\t\t\t\t\t<h5 className=\"card-title\">Waiting for your move...</h5>\n\t\t\t\t\t\t<div className=\"btn-group-vertical d-block\">\n\t\t\t\t\t\t\t{ Object.keys(gamesWaitingForYourMove).map(documentId => (\n\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={ `/game/${documentId}` } key={ documentId }>{ documentId }</Link>\n\t\t\t\t\t\t\t)) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Dashboard;\n","export const areObjectsSame = (objectA, objectB) => {\n\tif (!(objectA instanceof Object && objectB instanceof Object)) {\n\t\treturn false;\n\t}\n\n\tconst keys = Object.keys(objectA);\n\tif (keys.length !== Object.keys(objectB).length) {\n\t\treturn false\n\t}\n\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key = keys[i];\n\t\tif (objectA[key] !== objectB[key]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\nexport const areArraysSame = (arrayA, arrayB) => {\n\tif (\n\t\t!(arrayA instanceof Array && arrayB instanceof Array)\n\t\t|| arrayA.length !== arrayB.length\n\t) {\n\t\treturn false;\n\t}\n\n\tconst arrayASorted = arrayA.slice(0).sort();\n\tconst arrayBSorted = arrayB.slice(0).sort();\n\n\tfor (let i = 0; i < arrayASorted.length; i++) {\n\t\tconst itemA = arrayASorted[i];\n\t\tconst itemB = arrayBSorted[i];\n\n\t\tif (\n\t\t\t!(\n\t\t\t\t(\n\t\t\t\t\titemA instanceof Object\n\t\t\t\t\t&& areObjectsSame(itemA, itemB)\n\t\t\t\t) || (\n\t\t\t\t\titemA instanceof Array\n\t\t\t\t\t&& areArraysSame(itemA, itemB)\n\t\t\t\t) || (\n\t\t\t\t\titemA === itemB\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n","import React, {\n\tuseEffect,\n\tuseState\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n\taddWeaponToGame,\n\tdeleteWeapons,\n\tgetWeaponForPlayer,\n\tgetWinner\n} from '../services/game';\nimport { areObjectsSame } from '../services/utils';\n\nfunction Game({ gameDocument, players, userId }) {\n\tconst [\n\t\tweapon,\n\t\tsetWeapon\n\t] = useState(null);\n\n\tconst [\n\t\twinner,\n\t\tsetWinner\n\t] = useState({});\n\n\tuseEffect(() => {\n\t\tgetWeaponForPlayer(gameDocument, userId)\n\t\t\t.then(weapon => setWeapon(weapon));\n\t}, [gameDocument, userId]);\n\n\tuseEffect(() => {\n\t\tconst gameWinner = getWinner(players);\n\n\t\tif (!areObjectsSame(gameWinner, winner)) {\n\t\t\tsetWinner(gameWinner);\n\t\t}\n\t}, [players]);\n\n\tconst getPlayerNamesCopy = () => players.map(player => player.name).join(' vs. ');\n\n\tconst getOpponentName = () => players.find(player => player.userId !== winner.userId).name;\n\n\tconst getWeaponIcon = weapon => {\n\t\tlet className = '';\n\n\t\tswitch (weapon) {\n\t\t\tcase 'Rock':\n\t\t\t\tclassName = 'fas fa-hand-rock';\n\t\t\t\tbreak;\n\t\t\tcase 'Paper':\n\t\t\t\tclassName = 'fas fa-hand-paper';\n\t\t\t\tbreak;\n\t\t\tcase 'Scissors':\n\t\t\t\tclassName = 'fas fa-hand-scissors';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\n\t\treturn <i className={ className }></i>;\n\t};\n\n\tconst onClickWeaponHandler = e => {\n\t\tconst weapon = e.currentTarget.dataset.name;\n\n\t\taddWeaponToGame(gameDocument, userId, weapon)\n\t\t\t.then(() => setWeapon(weapon));\n\t};\n\n\tif (winner.tie) {\n\t\tsetTimeout(() => {\n\t\t\tdeleteWeapons(gameDocument);\n\t\t\tsetWeapon(null);\n\t\t\tsetWinner({});\n\t\t}, 3000);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h5 className=\"card-title\">{ getPlayerNamesCopy() }</h5>\n\t\t\t\t<p className=\"card-text\">It was a tie! Both selected <span className=\"text-primary\">{ getWeaponIcon(winner.weapon) }</span>. Starting a new match...</p>\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (winner.userId) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h5 className=\"card-title\">\n\t\t\t\t\t{ winner.userId === userId\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t`Congrats, you beat ${getOpponentName()} with `,\n\t\t\t\t\t\t\t<span className=\"text-primary\" key={ weapon }>{ getWeaponIcon(weapon) }</span>,\n\t\t\t\t\t\t\t'!'\n\t\t\t\t\t\t]\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t`Sorry, ${winner.name} won with `,\n\t\t\t\t\t\t\t<span className=\"text-primary\" key={ weapon }>{ getWeaponIcon(winner.weapon) }</span>,\n\t\t\t\t\t\t\t'.'\n\t\t\t\t\t\t] }\n\t\t\t\t</h5>\n\t\t\t\t<Link to=\"/home\" className=\"btn btn-primary btn-block\">Play again?</Link>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h5 className=\"card-title\">{ getPlayerNamesCopy() }</h5>\n\t\t\t{ weapon\n\t\t\t\t? <p className=\"card-text\">\n\t\t\t\t\tYou chose <span className=\"text-primary\">{ getWeaponIcon(weapon) }</span>!\n\t\t\t\t\t<br/>\n\t\t\t\t\tWaiting for your opponent...\n\t\t\t\t</p>\n\t\t\t\t: <>\n\t\t\t\t\t<p className=\"card-text\">Choose your weapon!</p>\n\t\t\t\t\t<div className=\"btn-group d-flex\">\n\t\t\t\t\t\t{ ['Rock', 'Paper', 'Scissors'].map(weapon => (\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary\" style={{ flexGrow: 1 }} data-name={ weapon } onClick={ onClickWeaponHandler } key={ weapon }>\n\t\t\t\t\t\t\t\t{ getWeaponIcon(weapon) }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)) }\n\t\t\t\t\t</div>\n\t\t\t\t</> }\n\t\t</>\n\t);\n}\n\nexport default Game;\n","import React, {\n\tuseEffect,\n\tuseState,\n} from 'react';\nimport {\n\tRedirect,\n\tuseParams\n} from 'react-router-dom';\nimport Game from './Game';\nimport {\n\taddPlayerToGame,\n\tgetGameDocument\n} from '../services/game';\nimport {\n\tgetLocalUser,\n\tgetUser\n} from '../services/user';\nimport { areArraysSame } from '../services/utils';\n\nfunction GameLobby() {\n\tconst { gameId } = useParams();\n\tconst { id: userId } = getLocalUser();\n\tconst gameDocument = getGameDocument(gameId);\n\n\tconst [\n\t\tplayers,\n\t\tsetPlayers\n\t] = useState([]);\n\n\tconst [\n\t\tredirectTo,\n\t\tsetRedirectTo\n\t] = useState(null);\n\n\tuseEffect(() => gameDocument.collection('players')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst promises = snapshot.docs.map(document => {\n\t\t\t\tconst {userId, weapon} = document.data();\n\t\t\t\treturn getUser(userId)\n\t\t\t\t\t.then(user => {\n\t\t\t\t\t\tuser.userId = userId;\n\t\t\t\t\t\tuser.weapon = weapon;\n\t\t\t\t\t\treturn user;\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\tPromise.all(promises)\n\t\t\t\t.then(gamePlayers => {\n\t\t\t\t\tif (!gamePlayers.find(({ userId: playerId }) => playerId === userId)) {\n\t\t\t\t\t\treturn gamePlayers.length < 2 && userId\n\t\t\t\t\t\t\t? addPlayerToGame(gameDocument, userId)\n\t\t\t\t\t\t\t: setRedirectTo('/home');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!areArraysSame(gamePlayers, players)) {\n\t\t\t\t\t\tsetPlayers(gamePlayers);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}), []);\n\n\tif (redirectTo) {\n\t\treturn <Redirect to={ redirectTo } />;\n\t}\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8 offset-sm-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<div className=\"card-header\">{ gameId }</div>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t{ players.length < 2\n\t\t\t\t\t\t\t? <h5 className=\"card-title\">Waiting for player...</h5>\n\t\t\t\t\t\t\t: <Game gameDocument={ gameDocument } players={ players } userId={ userId } /> }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default GameLobby;\n","import React from 'react';\nimport { addUser } from '../services/user';\n\nfunction UserNew({ user, setUser }) {\n\tconst onSubmitHandler = e => {\n\t\te.preventDefault();\n\n\t\tconst name = e.target.elements.name.value.trim();\n\t\tconst email = e.target.elements.email.value.trim().toLowerCase();\n\n\t\tif (!name || !email) {\n\t\t\treturn;\n\t\t}\n\n\t\taddUser({ name, email }).then(setUser);\n\t};\n\n\tif (\n\t\ttypeof user.name !== 'undefined'\n\t\t&& typeof user.email !== 'undefined'\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"card\">\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<h5 className=\"card-title\">New phone, who dis?</h5>\n\t\t\t\t<p className=\"card-text\">Before we begin, I need to know who you are</p>\n\t\t\t\t<form onSubmit={ onSubmitHandler }>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Your Name\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Your Email\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary btn-block\">Let's RPS!</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default UserNew;\n","import React, {\n\tuseState\n} from 'react';\nimport { Redirect } from 'react-router-dom';\n\nfunction GameNew({ userId }) {\n\tconst [\n\t\tgameId,\n\t\tsetGameId\n\t] = useState(null);\n\n\tconst onClickHostHandler = () => {\n\t\tconst gameId = `Game_${Math.round(Math.random() * 1000)}`;\n\t\tsetGameId(gameId);\n\t};\n\n\tconst onSubmitJoinHandler = e => {\n\t\te.preventDefault();\n\n\t\tconst gameId = e.target.elements.name.value.trim();\n\t\tsetGameId(gameId);\n\t};\n\n\tif (gameId) {\n\t\treturn <Redirect to={`/game/${gameId}`} />;\n\t}\n\n\treturn (\n\t\t<div className=\"card\">\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<p className=\"card-text\">Decide if you want to start a new game, or join an existing one</p>\n\t\t\t\t<button className=\"btn btn-primary btn-block mb-3\" onClick={ onClickHostHandler }>Start a new game</button>\n\n\t\t\t\t<hr/>\n\n\t\t\t\t<form onSubmit={ onSubmitJoinHandler }>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Game Name\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary btn-block\">Join a game</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default GameNew;\n","import React, {\n\tuseState\n} from 'react';\nimport UserNew from './UserNew';\nimport GameNew from './GameNew';\nimport {\n\tgetLocalUser,\n\tsetLocalUser\n} from '../services/user';\n\nfunction Home() {\n\tconst [\n\t\tuser,\n\t\tsetUser\n\t] = useState(getLocalUser());\n\n\tconst setLocalAndStateUser = user => {\n\t\tsetLocalUser(user);\n\t\tsetUser(user);\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8 offset-sm-2\">\n\t\t\t\t<UserNew user={ user } setUser={ setLocalAndStateUser } />\n\t\t\t\t{ user.id\n\t\t\t\t\t? <GameNew userId={ user.id }/>\n\t\t\t\t\t: null }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Home;\n","import React from 'react';\nimport {\n\tLink,\n\tuseRouteMatch\n} from 'react-router-dom';\n\nfunction Navbar() {\n\tconst dashboardMatch = useRouteMatch({\n\t\tpath: '/dashboard',\n\t\tstrict: true\n\t});\n\tconst homeMatch = useRouteMatch({\n\t\tpath: '/home',\n\t\tstrict: true\n\t});\n\n\treturn (\n\t\t<nav className=\"navbar navbar-expand navbar-light bg-light mb-5\">\n\t\t\t<div className=\"collapse navbar-collapse\">\n\t\t\t\t<ul className=\"navbar-nav\">\n\t\t\t\t\t<li className={ `nav-item${homeMatch ? ' active' : ''}` }>\n\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/home\">Home</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={ `nav-item${dashboardMatch ? ' active' : ''}` }>\n\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/dashboard\">Dashboard</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n\nexport default Navbar;\n","import React from 'react';\nimport {\n\tHashRouter as Router,\n\tRedirect,\n\tRoute,\n\tSwitch\n} from 'react-router-dom';\nimport Dashboard from './Dashboard';\nimport GameLobby from './GameLobby';\nimport Home from './Home';\nimport Navbar from './Navbar';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar/>\n\n\t\t\t<Switch>\n\t\t\t\t<Redirect exact from=\"/\" to=\"/home\" />\n\n\t\t\t\t<Route path=\"/game/:gameId\">\n\t\t\t\t\t<GameLobby />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t\t<Dashboard />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/home\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}